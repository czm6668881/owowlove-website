# ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ¸…å•

## ğŸ“‹ **ä¿®å¤å®ŒæˆçŠ¶æ€**

### âœ… **å·²ä¿®å¤çš„é—®é¢˜**
- [x] **Footeré“¾æ¥404é”™è¯¯** - å·²é‡å®šå‘åˆ°æ­£ç¡®é¡µé¢
- [x] **å›¾ç‰‡URLæ ¼å¼é”™è¯¯** - å·²æ¸…ç†å¤šä½™å­—ç¬¦
- [x] **Next.jsé…ç½®** - å·²æ·»åŠ ç”Ÿäº§åŸŸåæ”¯æŒ
- [x] **å›¾ç‰‡APIå¢å¼º** - å·²æ·»åŠ è¯¦ç»†è°ƒè¯•å’Œé”™è¯¯å¤„ç†
- [x] **å‰ç«¯é”™è¯¯å¤„ç†** - å·²æ·»åŠ å¤šé‡å¤‡ç”¨URLå°è¯•
- [x] **React Keyå±æ€§** - å·²ç§»é™¤ä¸å¿…è¦çš„keyå±æ€§

### ğŸ“ **ä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨**
1. `components/footer.tsx` - Footeré“¾æ¥ä¿®å¤
2. `next.config.mjs` - ç”Ÿäº§åŸŸåé…ç½®
3. `app/[lang]/page.tsx` - å›¾ç‰‡URLå¤„ç†å’Œé”™è¯¯å¤„ç†
4. `app/api/image/[filename]/route.ts` - å›¾ç‰‡APIå¢å¼º
5. `scripts/production-health-check.js` - ç”Ÿäº§ç¯å¢ƒå¥åº·æ£€æŸ¥
6. `scripts/simple-health-check.js` - ç®€åŒ–å¥åº·æ£€æŸ¥
7. `package.json` - æ·»åŠ å¥åº·æ£€æŸ¥è„šæœ¬

## ğŸ”§ **éƒ¨ç½²å‰æ£€æŸ¥**

### 1. **ä»£ç æäº¤**
```bash
# æ£€æŸ¥ä¿®æ”¹çš„æ–‡ä»¶
git status

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# æäº¤ä¿®æ”¹
git commit -m "Fix production environment issues: footer links, image API, and error handling"

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main
```

### 2. **æœ¬åœ°æµ‹è¯•**
```bash
# è¿è¡Œç®€åŒ–å¥åº·æ£€æŸ¥
node scripts/simple-health-check.js

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start
```

### 3. **ç¯å¢ƒå˜é‡æ£€æŸ¥**
ç¡®ä¿ç”Ÿäº§ç¯å¢ƒæœ‰ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `NODE_ENV=production`
- `PORT=3000` (æˆ–å…¶ä»–ç«¯å£)
- `SUPABASE_URL=your_supabase_url`
- `SUPABASE_ANON_KEY=your_supabase_key`

## ğŸŒ **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**

### æ–¹æ¡ˆAï¼šä½¿ç”¨PM2éƒ¨ç½²
```bash
# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
npm run deploy

# æ£€æŸ¥éƒ¨ç½²çŠ¶æ€
npm run deploy:status

# æŸ¥çœ‹æ—¥å¿—
npm run deploy:logs

# é‡å¯æœåŠ¡ï¼ˆå¦‚éœ€è¦ï¼‰
npm run deploy:restart
```

### æ–¹æ¡ˆBï¼šæ‰‹åŠ¨éƒ¨ç½²
```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºé¡¹ç›®
npm run build

# 4. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start:prod
```

## ğŸ” **éƒ¨ç½²åéªŒè¯**

### 1. **é¡µé¢è®¿é—®æµ‹è¯•**
- [ ] ä¸»é¡µåŠ è½½æ­£å¸¸ï¼š`https://owowlove.com/en`
- [ ] äº§å“å›¾ç‰‡æ˜¾ç¤ºæ­£å¸¸
- [ ] Footeré“¾æ¥å·¥ä½œæ­£å¸¸
- [ ] æ— JavaScripté”™è¯¯

### 2. **APIæµ‹è¯•**
- [ ] äº§å“APIï¼š`https://owowlove.com/api/products`
- [ ] å›¾ç‰‡APIï¼š`https://owowlove.com/api/image/product-1752080189101.jpeg`
- [ ] åˆ†ç±»APIï¼š`https://owowlove.com/api/categories`

### 3. **å¥åº·æ£€æŸ¥**
```bash
# è¿è¡Œç”Ÿäº§ç¯å¢ƒå¥åº·æ£€æŸ¥
DOMAIN=owowlove.com npm run health-check
```

### 4. **æµè§ˆå™¨æ§åˆ¶å°æ£€æŸ¥**
- [ ] æ— 404é”™è¯¯
- [ ] æ— JavaScripté”™è¯¯
- [ ] å›¾ç‰‡åŠ è½½æˆåŠŸ
- [ ] ç½‘ç»œè¯·æ±‚æ­£å¸¸

## ğŸš¨ **æ•…éšœæ’é™¤**

### å¦‚æœå›¾ç‰‡ä»ç„¶404ï¼š

#### 1. **æ£€æŸ¥æ–‡ä»¶æƒé™**
```bash
# æ£€æŸ¥uploadsç›®å½•æƒé™
ls -la public/uploads/
chmod 755 public/uploads/
chmod 644 public/uploads/*.jpg
chmod 644 public/uploads/*.jpeg
```

#### 2. **æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—**
```bash
# PM2æ—¥å¿—
pm2 logs owowlove-production

# æˆ–ç›´æ¥æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f logs/error.log
tail -f logs/out.log
```

#### 3. **æ‰‹åŠ¨æµ‹è¯•API**
```bash
# æµ‹è¯•å›¾ç‰‡API
curl -I https://owowlove.com/api/image/product-1752080189101.jpeg

# æµ‹è¯•äº§å“API
curl https://owowlove.com/api/products
```

### å¦‚æœFooteré“¾æ¥ä»ç„¶404ï¼š

#### 1. **æ¸…é™¤ç¼“å­˜**
- æ¸…é™¤CDNç¼“å­˜ï¼ˆå¦‚ä½¿ç”¨ï¼‰
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- é‡å¯æœåŠ¡å™¨

#### 2. **æ£€æŸ¥éƒ¨ç½²**
```bash
# ç¡®è®¤ä»£ç å·²éƒ¨ç½²
git log --oneline -5

# æ£€æŸ¥æ–‡ä»¶å†…å®¹
grep -n "shipping-info" components/footer.tsx
```

## ğŸ“Š **ç›‘æ§è®¾ç½®**

### 1. **é”™è¯¯ç›‘æ§**
- è®¾ç½®404é”™è¯¯ç›‘æ§
- è®¾ç½®JavaScripté”™è¯¯ç›‘æ§
- è®¾ç½®APIå“åº”æ—¶é—´ç›‘æ§

### 2. **æ€§èƒ½ç›‘æ§**
- å›¾ç‰‡åŠ è½½æ—¶é—´
- é¡µé¢æ¸²æŸ“æ€§èƒ½
- APIå“åº”æ—¶é—´

### 3. **ç”¨æˆ·ä½“éªŒç›‘æ§**
- å›¾ç‰‡æ˜¾ç¤ºæˆåŠŸç‡
- é¡µé¢åŠ è½½å®Œæˆç‡
- ç”¨æˆ·äº¤äº’æˆåŠŸç‡

## ğŸ¯ **æˆåŠŸæ ‡å‡†**

éƒ¨ç½²æˆåŠŸçš„æ ‡å‡†ï¼š
- âœ… ä¸»é¡µæ­£å¸¸åŠ è½½ï¼Œæ— 404é”™è¯¯
- âœ… äº§å“å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º
- âœ… Footeré“¾æ¥æ­£å¸¸å·¥ä½œ
- âœ… æµè§ˆå™¨æ§åˆ¶å°æ— é”™è¯¯
- âœ… APIå“åº”æ­£å¸¸
- âœ… å¥åº·æ£€æŸ¥é€šè¿‡

## ğŸ“ **ç´§æ€¥è”ç³»**

å¦‚æœéƒ¨ç½²åä»æœ‰é—®é¢˜ï¼š
1. **ç«‹å³å›æ»š**ï¼š`git revert HEAD`
2. **æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€**ï¼š`pm2 status`
3. **æŸ¥çœ‹é”™è¯¯æ—¥å¿—**ï¼š`pm2 logs`
4. **é‡å¯æœåŠ¡**ï¼š`pm2 restart owowlove-production`

---

**éƒ¨ç½²ä¼˜å…ˆçº§ï¼šğŸ”´ é«˜**
**é¢„è®¡å½±å“ï¼šâœ… ä¿®å¤ç”¨æˆ·ä½“éªŒé—®é¢˜**
**å›æ»šè®¡åˆ’ï¼šâœ… å·²å‡†å¤‡**
